<div class=\"w-screen min-h-screen mx-auto bg-white p-6 rounded shadow-md mt-20\"><form id=\"uploadForm\" enctype=\"multipart/form-data\" hx-post=\"
\" hx-target=\"#response-div\" hx-target-error=\"#response-div\" hx-swap=\"outerHTML\" hx-push-url=\"true\" hx-headers=\"js:{&#34;token&#34;: getToken()}\"><div id=\"images-container\"></div><div class=\"flex w-full justify-center\"><div id=\"multi-upload-button\" class=\"inline-flex items-center px-4 py-2 bg-gray-600 border border-gray-600 rounded-l font-semibold cursor-pointer text-sm text-white tracking-widest hover:bg-gray-500 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition \">ВЫБЕРИ КАРТИНКУ\r</div><div class=\"w-4/12 lg:w-3/12 border border-gray-300 rounded-r-md flex items-center justify-between\"><span id=\"multi-upload-text\" class=\"p-2\"></span> <button id=\"multi-upload-delete\" type=\"button\" class=\"hidden\" onclick=\"removeMultiUpload()\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"fill-current text-red-700 w-3 h-3\" viewBox=\"0 0 320 512\"><path d=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\"></path></svg></button></div></div><input type=\"file\" id=\"image\" name=\"image\" class=\"hidden\" multiple><div class=\"my-5\"><div class=\"flex w-full justify-center\"><div id=\"multi-audio-button\" class=\"inline-flex items-center px-4 py-2 bg-gray-600 border border-gray-600 rounded-l font-semibold cursor-pointer text-sm text-white tracking-widest hover:bg-gray-500 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition \">ВЫБЕРИ ЗВУЧОК\r</div><div class=\"w-4/12 lg:w-3/12 border border-gray-300 rounded-r-md flex items-center justify-between\"><span id=\"multi-audio-text\" class=\"p-2\"></span> <button id=\"multi-audio-delete\" type=\"button\" class=\"hidden\" onclick=\"removeAudioUpload()\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"fill-current text-red-700 w-3 h-3\" viewBox=\"0 0 320 512\"><path d=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\"></path></svg></button></div></div><input type=\"file\" id=\"audio\" name=\"audio\" accept=\"audio/*\" class=\"hidden\"></div><div class=\"flex items-center\"><div class=\"controls w-14 h-14  flex justify-center items-center rounded-full\"><i class=\"fa fa-play text-terakot text-3xl hidden\" id=\"playPause\"></i></div><div id=\"waveform\" class=\"flex-initial w-full ml-2\"></div></div><div class=\"flex\"><div class=\"mb-4\"><label for=\"bpm\" class=\"block font-medium\">BPM:</label><div class=\"w-72\"><div class=\"relative h-10 w-full min-w-[200px]\"><input type=\"number\" id=\"bpm\" name=\"bpm\" min=\"1\" class=\"peer h-full w-full rounded-[7px] border border-blue-gray-200 bg-transparent px-3 py-2.5 font-sans text-sm font-normal text-blue-gray-700 outline outline-0 transition-all placeholder-shown:border placeholder-shown:border-blue-gray-200 placeholder-shown:border-t-blue-gray-200 focus:border-2 focus:border-pink-500 focus:border-t-transparent focus:outline-0 disabled:border-0 disabled:bg-blue-gray-50\" placeholder=\" \"> <label class=\"before:content[&#39; &#39;] after:content[&#39; &#39;] pointer-events-none absolute left-0 -top-1.5 flex h-full w-full select-none text-[11px] font-normal leading-tight text-blue-gray-400 transition-all before:pointer-events-none before:mt-[6.5px] before:mr-1 before:box-border before:block before:h-1.5 before:w-2.5 before:rounded-tl-md before:border-t before:border-l before:border-blue-gray-200 before:transition-all after:pointer-events-none after:mt-[6.5px] after:ml-1 after:box-border after:block after:h-1.5 after:w-2.5 after:flex-grow after:rounded-tr-md after:border-t after:border-r after:border-blue-gray-200 after:transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:leading-[3.75] peer-placeholder-shown:text-blue-gray-500 peer-placeholder-shown:before:border-transparent peer-placeholder-shown:after:border-transparent peer-focus:text-[11px] peer-focus:leading-tight peer-focus:text-pink-500 peer-focus:before:border-t-2 peer-focus:before:border-l-2 peer-focus:before:border-pink-500 peer-focus:after:border-t-2 peer-focus:after:border-r-2 peer-focus:after:border-pink-500 peer-disabled:text-transparent peer-disabled:before:border-transparent peer-disabled:after:border-transparent peer-disabled:peer-placeholder-shown:text-blue-gray-500\">Required\r</label></div></div></div><div class=\"mb-4\"><label for=\"price\" class=\"block font-medium\">Price:</label><div class=\"w-72\"><div class=\"relative h-10 w-full min-w-[200px]\"><input type=\"number\" id=\"price\" name=\"price\" min=\"0\" class=\"peer h-full w-full rounded-[7px] border border-blue-gray-200 bg-transparent px-3 py-2.5 font-sans text-sm font-normal text-blue-gray-700 outline outline-0 transition-all placeholder-shown:border placeholder-shown:border-blue-gray-200 placeholder-shown:border-t-blue-gray-200 focus:border-2 focus:border-pink-500 focus:border-t-transparent focus:outline-0 disabled:border-0 disabled:bg-blue-gray-50\" placeholder=\" \"> <label class=\"before:content[&#39; &#39;] after:content[&#39; &#39;] pointer-events-none absolute left-0 -top-1.5 flex h-full w-full select-none text-[11px] font-normal leading-tight text-blue-gray-400 transition-all before:pointer-events-none before:mt-[6.5px] before:mr-1 before:box-border before:block before:h-1.5 before:w-2.5 before:rounded-tl-md before:border-t before:border-l before:border-blue-gray-200 before:transition-all after:pointer-events-none after:mt-[6.5px] after:ml-1 after:box-border after:block after:h-1.5 after:w-2.5 after:flex-grow after:rounded-tr-md after:border-t after:border-r after:border-blue-gray-200 after:transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:leading-[3.75] peer-placeholder-shown:text-blue-gray-500 peer-placeholder-shown:before:border-transparent peer-placeholder-shown:after:border-transparent peer-focus:text-[11px] peer-focus:leading-tight peer-focus:text-pink-500 peer-focus:before:border-t-2 peer-focus:before:border-l-2 peer-focus:before:border-pink-500 peer-focus:after:border-t-2 peer-focus:after:border-r-2 peer-focus:after:border-pink-500 peer-disabled:text-transparent peer-disabled:before:border-transparent peer-disabled:after:border-transparent peer-disabled:peer-placeholder-shown:text-blue-gray-500\">ЦЕНА\r</label></div></div></div></div><div class=\"flex \"><div class=\"mb-4\"><label for=\"genre\" class=\"block font-medium\">Genre:</label><div><div class=\"relative inline-flex self-center\"><svg class=\"text-white bg-purple-700 absolute top-0 right-0 m-2 pointer-events-none p-2 rounded\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"40px\" height=\"40px\" viewBox=\"0 0 38 22\" version=\"1.1\"><title>F09B337F-81F6-41AC-8924-EC55BA135736</title><g id=\"ZahnhelferDE—Design\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"ZahnhelferDE–Icon&amp;Asset-Download\" transform=\"translate(-539.000000, -199.000000)\" fill=\"#ffffff\" fill-rule=\"nonzero\"><g id=\"Icon-/-ArrowRight-Copy-2\" transform=\"translate(538.000000, 183.521208)\"><polygon id=\"Path-Copy\" transform=\"translate(20.000000, 18.384776) rotate(135.000000) translate(-20.000000, -18.384776) \" points=\"33 5.38477631 33 31.3847763 29 31.3847763 28.999 9.38379168 7 9.38477631 7 5.38477631\"></polygon></g></g></g></svg> <select id=\"genre\" name=\"genre[]\" class=\"text-2xl font-bold rounded border-2 border-purple-700 text-gray-600 h-14 w-60 pl-5 pr-10 bg-white hover:border-gray-400 focus:outline-none appearance-none\">
<option value=\"
\">
</option>
</select></div></div></div><div class=\"mb-4\"><label for=\"key\" class=\"block font-medium\">Key:</label><div><div class=\"relative inline-flex self-center\"><svg class=\"text-white bg-purple-700 absolute top-0 right-0 m-2 pointer-events-none p-2 rounded\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"40px\" height=\"40px\" viewBox=\"0 0 38 22\" version=\"1.1\"><title>F09B337F-81F6-41AC-8924-EC55BA135736</title><g id=\"ZahnhelferDE—Design\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"ZahnhelferDE–Icon&amp;Asset-Download\" transform=\"translate(-539.000000, -199.000000)\" fill=\"#ffffff\" fill-rule=\"nonzero\"><g id=\"Icon-/-ArrowRight-Copy-2\" transform=\"translate(538.000000, 183.521208)\"><polygon id=\"Path-Copy\" transform=\"translate(20.000000, 18.384776) rotate(135.000000) translate(-20.000000, -18.384776) \" points=\"33 5.38477631 33 31.3847763 29 31.3847763 28.999 9.38379168 7 9.38477631 7 5.38477631\"></polygon></g></g></g></svg> <select id=\"key\" name=\"key\" class=\"text-2xl font-bold rounded border-2 border-purple-700 text-gray-600 h-14 w-60 pl-5 pr-10 bg-white hover:border-gray-400 focus:outline-none appearance-none\">
<option value=\"
\">
</option>
</select></div></div></div><div class=\"mb-4\"><label for=\"instrument\" class=\"block font-medium\">Instrument:</label><div><div class=\"relative inline-flex self-center\"><svg class=\"text-white bg-purple-700 absolute top-0 right-0 m-2 pointer-events-none p-2 rounded\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"40px\" height=\"40px\" viewBox=\"0 0 38 22\" version=\"1.1\"><title>F09B337F-81F6-41AC-8924-EC55BA135736</title><g id=\"ZahnhelferDE—Design\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"ZahnhelferDE–Icon&amp;Asset-Download\" transform=\"translate(-539.000000, -199.000000)\" fill=\"#ffffff\" fill-rule=\"nonzero\"><g id=\"Icon-/-ArrowRight-Copy-2\" transform=\"translate(538.000000, 183.521208)\"><polygon id=\"Path-Copy\" transform=\"translate(20.000000, 18.384776) rotate(135.000000) translate(-20.000000, -18.384776) \" points=\"33 5.38477631 33 31.3847763 29 31.3847763 28.999 9.38379168 7 9.38477631 7 5.38477631\"></polygon></g></g></g></svg> <select id=\"instrument\" name=\"instrument[]\" class=\"text-2xl font-bold rounded border-2 border-purple-700 text-gray-600 h-14 w-60 pl-5 pr-10 bg-white hover:border-gray-400 focus:outline-none appearance-none\">
<option value=\"
\">
</option>
</select></div></div></div><div class=\"mb-4\"><label for=\"variation\" class=\"block font-medium\">Variation</label><div><div class=\"relative inline-flex self-center\"><svg class=\"text-white bg-purple-700 absolute top-0 right-0 m-2 pointer-events-none p-2 rounded\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"40px\" height=\"40px\" viewBox=\"0 0 38 22\" version=\"1.1\"><title>F09B337F-81F6-41AC-8924-EC55BA135736</title><g id=\"ZahnhelferDE—Design\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"ZahnhelferDE–Icon&amp;Asset-Download\" transform=\"translate(-539.000000, -199.000000)\" fill=\"#ffffff\" fill-rule=\"nonzero\"><g id=\"Icon-/-ArrowRight-Copy-2\" transform=\"translate(538.000000, 183.521208)\"><polygon id=\"Path-Copy\" transform=\"translate(20.000000, 18.384776) rotate(135.000000) translate(-20.000000, -18.384776) \" points=\"33 5.38477631 33 31.3847763 29 31.3847763 28.999 9.38379168 7 9.38477631 7 5.38477631\"></polygon></g></g></g></svg> <select id=\"variation\" name=\"variation[]\" class=\"text-2xl font-bold rounded border-2 border-purple-700 text-gray-600 h-14 w-60 pl-5 pr-10 bg-white hover:border-gray-400 focus:outline-none appearance-none\">
<option value=\"
\">
</option>
</select></div></div></div></div><button id=\"addBtn\" type=\"submit\" class=\"bg-rozov text-white px-4 py-2 rounded hover:bg-temnosin\">>Добавить</button></form><div id=\"response-div\"><div hx-get=\"/users/profile\" hx-trigger=\"click delay:1s from:#addBtn\" hx-target=\"#body\" hx-swap=\"outerHTML\" hx-push-url=\"true\" hx-headers=\"js:{&#34;token&#34;: getToken()}\"></div></div><div id=\"any-errors\"></div></div><script>\r\n    //all ids and some classes are importent for this script\r\n    var playPauseButton = document.getElementById(\"playPause\");\r\n    var audioInput = document.getElementById(\"audio\");\r\n    multiAudioButton = document.getElementById(\"multi-audio-button\");\r\n    multiAudioDisplayText = document.getElementById(\"multi-audio-text\");\r\n    multiAudioDeleteButton = document.getElementById(\"multi-audio-delete\");\r\n    var wavesurfer;\r\n\r\n    multiAudioButton.onclick = function() {\r\n         audioInput.click();\r\n    };\r\n\r\n    audioInput.addEventListener('change', function(event) {\r\n    var file = audioInput.files[0];\r\n    console.log(file)\r\n    multiAudioDisplayText.innerHTML = file;\r\n    multiAudioDeleteButton.classList.add(\"z-100\", \"p-2\", \"my-auto\");\r\n    multiAudioDeleteButton.classList.remove(\"hidden\");\r\n    playPauseButton.classList.remove(\"hidden\")\r\n    if (file) {\r\n        var reader = new FileReader();\r\n        reader.onload = function(e) {\r\n            var audioData = e.target.result;\r\n\r\n            if (wavesurfer) {\r\n                wavesurfer.destroy();\r\n            }\r\n\r\n            wavesurfer = WaveSurfer.create({\r\n                container: '#waveform',\r\n                waveColor: '#D1D0E8',\r\n                progressColor: '#655EB8',\r\n                height: 32,\r\n                responsive: true,\r\n                hideScrollbar: true,\r\n                barWidth: 3,\r\n                barGap: 1.5\r\n            });\r\n\r\n            wavesurfer.load(audioData);\r\n        };\r\n        reader.readAsDataURL(file);\r\n    }\r\n});\r\n\r\n    playPauseButton.addEventListener(\"click\", function() {\r\n        if (wavesurfer) {\r\n                wavesurfer.playPause();\r\n            }\r\n        });\r\n\r\n     function removeAudioUpload() {\r\n        wavesurfer.destroy();\r\n        audioInput.value = '';\r\n        multiAudioDisplayText.innerHTML = '';\r\n        multiAudioDeleteButton.classList.add(\"hidden\");\r\n        playPause.classList.add(\"hidden\");\r\n        multiAudioDeleteButton.classList.remove(\"z-100\", \"p-2\", \"my-auto\");\r\n    }\r\n    multiUploadButton = document.getElementById(\"multi-upload-button\");\r\n    multiUploadInput = document.getElementById(\"image\");\r\n    imagesContainer = document.getElementById(\"images-container\");\r\n    multiUploadDisplayText = document.getElementById(\"multi-upload-text\");\r\n    multiUploadDeleteButton = document.getElementById(\"multi-upload-delete\");\r\n\r\n    multiUploadButton.onclick = function () {\r\n        multiUploadInput.click(); // this will trigger the click event\r\n    };\r\n\r\n    multiUploadInput.addEventListener('change', function (event) {\r\n\r\n        if (multiUploadInput.files) {\r\n            let files = multiUploadInput.files;\r\n\r\n            // show the text for the upload button text filed\r\n            multiUploadDisplayText.innerHTML = files.length + ' files selected';\r\n\r\n            // removes styles from the images wrapper container in case the user readd new images\r\n            imagesContainer.innerHTML = '';\r\n            imagesContainer.classList.remove(\"w-full\", \"grid\", \"grid-cols-1\",\"sm:grid-cols-2\",\"md:grid-cols-3\",\"lg:grid-cols-4\", \"gap-4\");\r\n\r\n            // add styles to the images wrapper container\r\n            imagesContainer.classList.add(\"w-full\", \"grid\", \"grid-cols-1\",\"sm:grid-cols-2\",\"md:grid-cols-3\",\"lg:grid-cols-4\", \"gap-4\");\r\n\r\n            // the delete button to delete all files\r\n            multiUploadDeleteButton.classList.add(\"z-100\", \"p-2\", \"my-auto\");\r\n            multiUploadDeleteButton.classList.remove(\"hidden\");\r\n\r\n            Object.keys(files).forEach(function (key) {\r\n\r\n                let file = files[key];\r\n\r\n                // the FileReader object is needed to display the image\r\n                let reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onload = function () {\r\n                    let imageDiv = document.createElement('div');\r\n                    imageDiv.classList.add(\"h-64\", \"mb-3\", \"w-full\", \"p-3\", \"rounded-lg\", \"bg-cover\", \"bg-center\");\r\n                    imageDiv.style.backgroundImage = 'url(' + reader.result + ')';\r\n                    imagesContainer.appendChild(imageDiv);\r\n                }\r\n            })\r\n        }\r\n    })\r\n\r\n    function removeMultiUpload() {\r\n        imagesContainer.innerHTML = '';\r\n        imagesContainer.classList.remove(\"w-full\", \"grid\", \"grid-cols-1\",\"sm:grid-cols-2\",\"md:grid-cols-3\",\"lg:grid-cols-4\", \"gap-4\");\r\n        multiUploadInput.value = '';\r\n        multiUploadDisplayText.innerHTML = '';\r\n        multiUploadDeleteButton.classList.add(\"hidden\");\r\n        multiUploadDeleteButton.classList.remove(\"z-100\", \"p-2\", \"my-auto\");\r\n    }\r\n   \r\n</script>
